(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["jobs-edit"],{"04e1":function(t,e,r){"use strict";var o=r("7afa");function n(t){this.message=t}n.prototype=new Error,n.prototype.name="InvalidTokenError",t.exports=function(t,e){if("string"!==typeof t)throw new n("Invalid token specified");e=e||{};var r=!0===e.header?0:1;try{return JSON.parse(o(t.split(".")[r]))}catch(t){throw new n("Invalid token specified: "+t.message)}},t.exports.InvalidTokenError=n},2621:function(t,e){e.f=Object.getOwnPropertySymbols},"702f":function(t,e,r){},7333:function(t,e,r){"use strict";var o=r("0d58"),n=r("2621"),i=r("52a7"),a=r("4bf8"),s=r("626a"),c=Object.assign;t.exports=!c||r("79e5")(function(){var t={},e={},r=Symbol(),o="abcdefghijklmnopqrst";return t[r]=7,o.split("").forEach(function(t){e[t]=t}),7!=c({},t)[r]||Object.keys(c({},e)).join("")!=o})?function(t,e){var r=a(t),c=arguments.length,u=1,l=n.f,f=i.f;while(c>u){var d,b=s(arguments[u++]),h=l?o(b).concat(l(b)):o(b),p=h.length,v=0;while(p>v)f.call(b,d=h[v++])&&(r[d]=b[d])}return r}:c},"7afa":function(t,e,r){var o=r("9b81");function n(t){return decodeURIComponent(o(t).replace(/(.)/g,function(t,e){var r=e.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}t.exports=function(t){var e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw"Illegal base64url string!"}try{return n(e)}catch(t){return o(e)}}},"9b81":function(t,e){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function o(t){this.message=t}function n(t){var e=String(t).replace(/=+$/,"");if(e.length%4==1)throw new o("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,i,a=0,s=0,c="";i=e.charAt(s++);~i&&(n=a%4?64*n+i:i,a++%4)?c+=String.fromCharCode(255&n>>(-2*a&6)):0)i=r.indexOf(i);return c}o.prototype=new Error,o.prototype.name="InvalidCharacterError",t.exports="undefined"!==typeof window&&window.atob&&window.atob.bind(window)||n},e382:function(t,e,r){"use strict";var o=r("702f"),n=r.n(o);n.a},efec:function(t,e,r){"use strict";r.r(e);var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"jobs-edit"},[r("app-header",{attrs:{pageTitle:"Edit Job"}}),r("div",{staticClass:"content"},[t.error?r("div",{staticClass:"error"},[r("i",{staticClass:"feather-alert-triangle"}),t._v(" "+t._s(t.error))]):t._e(),t.job&&!t.error?[r("job-form",{style:{marginBottom:t.formMargin},attrs:{isNew:!1,job:t.job},on:{errorsCountUpdate:t.updateFormErrorsCount}}),r("div",{staticClass:"job-preview"},[t.job.published?t._e():r("div",{staticClass:"hidden-notification"},[r("i",{staticClass:"feather-info"}),t._v(" This Job will be hidden")]),r("job",{attrs:{job:t.job,clickable:!1}},[r("template",{slot:"button"},[r("div",{staticClass:"button",attrs:{disabled:t.submitDisabled},on:{click:function(e){return e.stopPropagation(),t.onSubmit(e)}}},[t._v("Update")])])],2)],1)]:t._e()],2)],1)},n=[],i=(r("f751"),r("cadf"),r("551c"),r("097d"),r("04e1")),a=r.n(i),s=r("7424"),c=r("0418"),u=r("fa1b"),l=r("7b97"),f={components:{AppHeader:c["a"],JobForm:u["a"],Job:l["a"]},data:function(){return{job:null,initialJob:null,token:null,error:null,formErrorsCount:0}},computed:{formMargin:function(){return this.job.published?"5rem":"8.35rem"},submitDisabled:function(){return this.formErrorsCount>0||JSON.stringify(this.job)===JSON.stringify(this.initialJob)}},mounted:function(){var t=this;if(this.token=this.$route.query.token,this.token){var e;try{e=a()(this.token)}catch(t){if(t instanceof i["InvalidTokenError"])return void(this.error="Invalid token");throw t}e.job&&e.job.id?Object(s["c"])(e.job.id,this.token).then(function(e){t.job=e,t.initialJob=Object.assign({},e)}).catch(function(t){alert(t.message)}):this.error="Invalid token"}else this.error="Token required to edit the Job"},methods:{onSubmit:function(){var t=this;this.submitDisabled||Object(s["e"])(this.job,this.token).then(function(){alert("Success!"),t.initialJob=Object.assign({},t.job)}).catch(function(t){alert(JSON.stringify(t))})},updateFormErrorsCount:function(t){this.formErrorsCount=t}}},d=f,b=(r("e382"),r("2877")),h=Object(b["a"])(d,o,n,!1,null,"3daf0965",null);h.options.__file="Edit.vue";e["default"]=h.exports},f751:function(t,e,r){var o=r("5ca1");o(o.S+o.F,"Object",{assign:r("7333")})}}]);